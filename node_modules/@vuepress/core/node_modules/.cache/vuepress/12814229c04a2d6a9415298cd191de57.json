{"remainingRequest":"/Users/ricardo/Desktop/article-system/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ricardo/Desktop/article-system/weekly/.vuepress/components/AreaComment/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/ricardo/Desktop/article-system/weekly/.vuepress/components/AreaComment/index.vue","mtime":1568787218468},{"path":"/Users/ricardo/Desktop/article-system/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ricardo/Desktop/article-system/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/ricardo/Desktop/article-system/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ricardo/Desktop/article-system/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBJbmZpbml0ZUxvYWRpbmcgZnJvbSAndnVlLWluZmluaXRlLWxvYWRpbmcnOwppbXBvcnQgZW52IGZyb20gJ0AvdXRpbHMvYnJvd3NlcnNFbnZpcm9ubWVudCcKaW1wb3J0IEVudkRldGVjdCBmcm9tICdAL2NvbXBvbmVudHMvRW52RGV0ZWN0LnZ1ZScKaW1wb3J0IGl0ZW0gZnJvbSAnLi9JdGVtL2luZGV4LnZ1ZScKaW1wb3J0IHsKICAgIGdldEV4cGVyaWVuY2VMaXN0Cn0gZnJvbSAnQC9hcGkvcmVxdWVzdC9leHBlcmllbmNlJwppbXBvcnQgewogICAgYW5kcm9pZFNlbmRTaGFyZWRQYWdlSW5mbywKICAgIGFuZHJvaWRKdW1wVG9FeHAsCiAgICBhbmRyb2lkV3JpdGVFeHAsCn0gZnJvbSAnQC9hcGkvYXBwQmFzZS9hbmRyb2lkJwppbXBvcnQgewogICAgaW9zU2VuZFNoYXJlZFBhZ2VJbmZvLAogICAgaW9zSnVtcFRvRXhwLAogICAgaW9zV3JpdGVFeHAsCn0gZnJvbSAnQC9hcGkvYXBwQmFzZS9pb3MnCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hZW06ICdBcmVhQ29tbWVudCcsCiAgICBwcm9wczogWyJ0b3BpY0luZm8iLCAic2hhcmVJbmZvIl0sCiAgICBjb21wb25lbnRzOiB7CiAgICAgICAgaXRlbSwKICAgICAgICBFbnZEZXRlY3QsCiAgICAgICAgSW5maW5pdGVMb2FkaW5nCiAgICB9LAogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBsaXN0OiBbXSwKICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIGluZmluaXRlSGFuZGxlcigkc3RhdGUpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coJHN0YXRlKTsKICAgICAgICAgICAgaWYgKHRoaXMubGlzdC5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgICAgIHRoaXMudG9waWNJbmZvICYmIGdldEV4cGVyaWVuY2VMaXN0KHsKICAgICAgICAgICAgICAgICAgICB0b3BpY0lkOiB0aGlzLnRvcGljSW5mby50b3BpY0lkLAogICAgICAgICAgICAgICAgICAgIGV4cElkOiAnJwogICAgICAgICAgICAgICAgfSkudGhlbihfID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAoXy5kYXRhLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICBsZXQgZCA9IF8uZGF0YTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGQuY29kZSA9PT0gMjAwKSB0aGlzLmxpc3QgPSBkLnJlc3VsdDsKICAgICAgICAgICAgICAgICAgICAgICAgJHN0YXRlLmxvYWRlZCgpOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICRzdGF0ZS5jb21wbGV0ZSgpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pLmNhdGNoKGVyciA9PiB7CiAgICAgICAgICAgICAgICAgICAgJHN0YXRlLmNvbXBsZXRlKCk7CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGhpcy50b3BpY0luZm8gJiYgZ2V0RXhwZXJpZW5jZUxpc3QoewogICAgICAgICAgICAgICAgICAgIHRvcGljSWQ6IHRoaXMudG9waWNJbmZvLnRvcGljSWQsCiAgICAgICAgICAgICAgICAgICAgZXhwSWQ6IHRoaXMubGlzdFt0aGlzLmxpc3QubGVuZ3RoIC0gMV0uaWQKICAgICAgICAgICAgICAgIH0pLnRoZW4oXyA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKF8uZGF0YS5jb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGQgPSBfLmRhdGEucmVzdWx0OwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxpc3QgPSB0aGlzLmxpc3QuY29uY2F0KGQpOwogICAgICAgICAgICAgICAgICAgICAgICAkc3RhdGUubG9hZGVkKCk7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgJHN0YXRlLmNvbXBsZXRlKCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkuY2F0Y2goZXJyID0+IHsKICAgICAgICAgICAgICAgICAgICAkc3RhdGUuY29tcGxldGUoKTsKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGlvc09wZW5FeHAoZXhwSWQpIHsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIHZlcnNpb246IDcuNywKICAgICAgICAgICAgICAgIGNiKCkgewogICAgICAgICAgICAgICAgICAgIGlvc0p1bXBUb0V4cChleHBJZCkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgYW5kcm9pZE9wZW5FeHAoZXhwSWQpIHsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIHZlcnNpb246IDcuNCwKICAgICAgICAgICAgICAgIGNiKCkgewogICAgICAgICAgICAgICAgICAgIGFuZHJvaWRKdW1wVG9FeHAoZXhwSWQpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGlXcml0ZUV4cCgpIHsKICAgICAgICAgICAgbGV0ICR0aGlzID0gdGhpczsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIHZlcnNpb246IDcuMiwKICAgICAgICAgICAgICAgIGNiKCkgewogICAgICAgICAgICAgICAgICAgICR0aGlzLnRvcGljSW5mbyAmJiBpb3NXcml0ZUV4cCgkdGhpcy50b3BpY0luZm8pCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGFXcml0ZUV4cCgpIHsKICAgICAgICAgICAgbGV0ICR0aGlzID0gdGhpczsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIHZlcnNpb246IDcuMiwKICAgICAgICAgICAgICAgIGNiKCkgewogICAgICAgICAgICAgICAgICAgICR0aGlzLnRvcGljSW5mbyAmJiBhbmRyb2lkV3JpdGVFeHAoJHRoaXMudG9waWNJbmZvKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSwKICAgIGJlZm9yZU1vdW50KCkge30KfQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"weekly/.vuepress/components/AreaComment","sourcesContent":["<template>\n    <div class=\"area__comment\">\n        <header class=\"comment__header\">\n            心得\n        </header>\n        <div v-if=\"list.length == 0\" slot=\"no-results\" class=\"list--nodata\">\n            <img src=\"https://official-web.oss-cn-beijing.aliyuncs.com/towords/dynamic/Public/kongpinglun.png\" alt=\"暂无数据\"> 暂无数据\n        </div>\n        <ul>\n            <env-detect v-for=\"(item, key) in list\" :key=\"key\" :ios=\"iosOpenExp(item.id)\" :android=\"androidOpenExp(item.id)\">\n                <template slot=\"content\"><item  :itemData=\"item\"></item>\n</template>\n            </env-detect>\n        </ul>\n        <InfiniteLoading  @infinite=\"infiniteHandler\">\n            <div  slot=\"no-results\" class=\"list--nodata\">\n                暂无数据\n            </div>\n            <div slot=\"no-more\" class=\"dropdown__footer--nomore\">到底啦 :)</div>\n        </InfiniteLoading>\n        <env-detect :ios=\"iWriteExp()\" :android=\"aWriteExp()\" >\n<template slot=\"content\">\n    <div class=\"btn__write__exp\">\n    </div>\n</template>\n            </env-detect>\n    </div>\n</template>\n\n<script type='text/javascript'>\n    import InfiniteLoading from 'vue-infinite-loading';\n    import env from '@/utils/browsersEnvironment'\n    import EnvDetect from '@/components/EnvDetect.vue'\n    import item from './Item/index.vue'\n    import {\n        getExperienceList\n    } from '@/api/request/experience'\n    import {\n        androidSendSharedPageInfo,\n        androidJumpToExp,\n        androidWriteExp,\n    } from '@/api/appBase/android'\n    import {\n        iosSendSharedPageInfo,\n        iosJumpToExp,\n        iosWriteExp,\n    } from '@/api/appBase/ios'\n    export default {\n        naem: 'AreaComment',\n        props: [\"topicInfo\", \"shareInfo\"],\n        components: {\n            item,\n            EnvDetect,\n            InfiniteLoading\n        },\n        data() {\n            return {\n                list: [],\n            }\n        },\n        methods: {\n            infiniteHandler($state) {\n                console.log($state);\n                if (this.list.length === 0) {\n                    this.topicInfo && getExperienceList({\n                        topicId: this.topicInfo.topicId,\n                        expId: ''\n                    }).then(_ => {\n                        if (_.data.code === 200) {\n                            let d = _.data;\n                            if (d.code === 200) this.list = d.result;\n                            $state.loaded();\n                        } else {\n                            $state.complete();\n                        }\n                    }).catch(err => {\n                        $state.complete();\n                    })\n                } else {\n                    this.topicInfo && getExperienceList({\n                        topicId: this.topicInfo.topicId,\n                        expId: this.list[this.list.length - 1].id\n                    }).then(_ => {\n                        if (_.data.code === 200) {\n                            var d = _.data.result;\n                            this.list = this.list.concat(d);\n                            $state.loaded();\n                        } else {\n                            $state.complete();\n                        }\n                    }).catch(err => {\n                        $state.complete();\n                    })\n                }\n            },\n            iosOpenExp(expId) {\n                return {\n                    version: 7.7,\n                    cb() {\n                        iosJumpToExp(expId)\n                    }\n                }\n            },\n            androidOpenExp(expId) {\n                return {\n                    version: 7.4,\n                    cb() {\n                        androidJumpToExp(expId)\n                    }\n                }\n            },\n            iWriteExp() {\n                let $this = this;\n                return {\n                    version: 7.2,\n                    cb() {\n                        $this.topicInfo && iosWriteExp($this.topicInfo)\n                    }\n                }\n            },\n            aWriteExp() {\n                let $this = this;\n                return {\n                    version: 7.2,\n                    cb() {\n                        $this.topicInfo && androidWriteExp($this.topicInfo)\n                    }\n                }\n            }\n        },\n        beforeMount() {}\n    }\n</script>\n\n<style scoped='' type='text/css'>\n    .area__comment {\n        max-width: 414px;\n        margin: 0 auto;\n        border-top: 10px #F0F0F2 solid;\n        background: #fff;\n    }\n    .area__comment * {\n        box-sizing: border-box;\n    }\n    .area__comment ul {\n        padding: 0;\n        margin: 0;\n    }\n    .area__comment .comment__header {\n        padding: 15px;\n        font-size: 14px;\n        font-family: PingFangSC-Medium;\n        font-weight: 500;\n        color: rgba(51, 54, 64, 1);\n    }\n    .area__comment .dropdown__footer--nomore {\n        padding: 10px;\n        font-size: 14px;\n        font-family: PingFangSC-Regular;\n        font-weight: 400;\n        color: #E6E6E6;\n    }\n    .area__comment .list--nodata {\n        text-align: center;\n        padding: 10px;\n        font-size: 14px;\n        font-family: PingFangSC-Regular;\n        font-weight: 400;\n        color: #E6E6E6;\n        border-top: 1px solid rgba(177, 177, 184, 1);\n    }\n    .area__comment .list--nodata img {\n        margin: 0 auto;\n        display: block;\n        width: 50%;\n    }\n    .area__comment .btn__write__exp {\n        position: fixed;\n        width: 64px;\n        height: 64px;\n        bottom: 15%;\n        right: 5px;\n        background: url(\"https://official-web.oss-cn-beijing.aliyuncs.com/towords/dynamic/Public/btn_write_exp.png\");\n        -webkit-background-size: 64px 64px;\n        background-size: 64px 64px;\n        z-index: 999;\n    }\n</style>"]}]}