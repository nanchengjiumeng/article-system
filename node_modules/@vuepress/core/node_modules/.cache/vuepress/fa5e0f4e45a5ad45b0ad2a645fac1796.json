{"remainingRequest":"/Users/ricardo/Desktop/article-system/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ricardo/Desktop/article-system/weekly/.vuepress/components/AreaComment.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/ricardo/Desktop/article-system/weekly/.vuepress/components/AreaComment.vue","mtime":1568801353868},{"path":"/Users/ricardo/Desktop/article-system/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ricardo/Desktop/article-system/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/ricardo/Desktop/article-system/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ricardo/Desktop/article-system/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CiAgICBnZXRFeHBlcmllbmNlTGlzdAp9IGZyb20gJy4uL2FwaS9yZXF1ZXN0L2V4cGVyaWVuY2UnCmltcG9ydCBJdGVtQ29tbWVudCBmcm9tICcuL0l0ZW1Db21tZW50JwpleHBvcnQgZGVmYXVsdCB7CiAgICBwcm9wczogWyJ0b3BpY0luZm8iXSwKICAgIGNvbXBvbmVudHM6IHsKICAgICAgICBJdGVtQ29tbWVudAogICAgfSwKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgbGlzdDogW10sCiAgICAgICAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICAgICAgICBoYXZlbW9yZTogZmFsc2UKICAgICAgICB9CiAgICB9LAogICAgLy8g5o6l5pS256WW5YWI57uE5Lu2dGhlbWUtbGkudnVl5Lyg5p2l55qERW52KCnlrp7kvosKICAgIG1ldGhvZHM6IHsKICAgICAgICAvLyBpZDog5b+D5b6XaWQKICAgICAgICBoYW5kbGVJdGVtQ2xpY2tlZCh7CiAgICAgICAgICAgIGlkCiAgICAgICAgfSkgewogICAgICAgICAgICB0aGlzLiRoYW5kbGVFbnZDaGVjayhmdW5jdGlvbihlbnYpIHsKICAgICAgICAgICAgICAgIC8vIOi3s+i9rOWIsOaLk+ivjeeahOW/g+W+l+mhtemdogogICAgICAgICAgICAgICAgaWYgKGVudiAmJiBlbnYuanVtcFRvRXhwIGluc3RhbmNlb2YgRnVuY3Rpb24pIHsKICAgICAgICAgICAgICAgICAgICBlbnYuanVtcFRvRXhwKGlkKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIGxvYWRNb3JlKCkgewogICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICBpZiAodGhpcy5saXN0Lmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICAgICAgdGhpcy50b3BpY0luZm8gJiYgZ2V0RXhwZXJpZW5jZUxpc3QoewogICAgICAgICAgICAgICAgICAgIHRvcGljSWQ6IHRoaXMudG9waWNJbmZvLnRvcGljSWQsCiAgICAgICAgICAgICAgICAgICAgZXhwSWQ6ICcnCiAgICAgICAgICAgICAgICB9KS50aGVuKF8gPT4gewogICAgICAgICAgICAgICAgICAgIGlmIChfLmRhdGEuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkID0gXy5kYXRhOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZC5jb2RlID09PSAyMDApIHRoaXMubGlzdCA9IGQucmVzdWx0OwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhhdmVtb3JlID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KS5jYXRjaChlcnIgPT4gewogICAgICAgICAgICAgICAgICAgIHRoaXMuaGF2ZW1vcmUgPSB0cnVlOwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHRoaXMudG9waWNJbmZvICYmIGdldEV4cGVyaWVuY2VMaXN0KHsKICAgICAgICAgICAgICAgICAgICB0b3BpY0lkOiB0aGlzLnRvcGljSW5mby50b3BpY0lkLAogICAgICAgICAgICAgICAgICAgIGV4cElkOiB0aGlzLmxpc3RbdGhpcy5saXN0Lmxlbmd0aCAtIDFdLmlkCiAgICAgICAgICAgICAgICB9KS50aGVuKF8gPT4gewogICAgICAgICAgICAgICAgICAgIGlmIChfLmRhdGEuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkID0gXy5kYXRhLnJlc3VsdDsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5saXN0ID0gdGhpcy5saXN0LmNvbmNhdChkKTsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oYXZlbW9yZSA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkuY2F0Y2goZXJyID0+IHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmhhdmVtb3JlID0gdHJ1ZTsKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9LAogICAgbW91bnRlZCgpIHsKICAgICAgICAvLyDmi7/liLB0aGVtZS1saS52dWXkuK3nmoTlrprkuYnnmoRFbnYoKeWunuS+i++8jOWSjOeOr+Wig+ajgOafpeWHveaVsAogICAgICAgIC8vIHRoaXMuJGVudiA9IHRoaXMuJHJvb3RbJyRlbnYnXTsKICAgICAgICB0aGlzLiRoYW5kbGVFbnZDaGVjayA9IHRoaXMuJHJvb3RbJyRoYW5kbGVFbnZDaGVjayddOwogICAgfQp9Cg=="},{"version":3,"sources":["AreaComment.vue"],"names":[],"mappings":";;;;;;;;;;;;;;AAcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AreaComment.vue","sourceRoot":"weekly/.vuepress/components","sourcesContent":["<template>\n    <div class=\"area__comment\">\n        <header class=\"comment__header\">\n            心得\n        </header>\n        <ul v-infinite-scroll=\"loadMore\" infinite-scroll-disabled=\"loading\" infinite-scroll-distance=\"10\">\n            <li v-for=\"item in list\" @click=\"handleItemClicked(item)\">\n                <ItemComment :itemData=\"item\" />\n            </li>\n        </ul>\n    </div>\n</template>\n\n<script type='text/ecmascript-6'>\n    import {\n        getExperienceList\n    } from '../api/request/experience'\n    import ItemComment from './ItemComment'\n    export default {\n        props: [\"topicInfo\"],\n        components: {\n            ItemComment\n        },\n        data() {\n            return {\n                list: [],\n                loading: false,\n                havemore: false\n            }\n        },\n        // 接收祖先组件theme-li.vue传来的Env()实例\n        methods: {\n            // id: 心得id\n            handleItemClicked({\n                id\n            }) {\n                this.$handleEnvCheck(function(env) {\n                    // 跳转到拓词的心得页面\n                    if (env && env.jumpToExp instanceof Function) {\n                        env.jumpToExp(id);\n                    }\n                })\n            },\n            loadMore() {\n                this.loading = true;\n                if (this.list.length === 0) {\n                    this.topicInfo && getExperienceList({\n                        topicId: this.topicInfo.topicId,\n                        expId: ''\n                    }).then(_ => {\n                        if (_.data.code === 200) {\n                            let d = _.data;\n                            if (d.code === 200) this.list = d.result;\n                            this.loading = false;\n                        } else {\n                            this.havemore = true;\n                        }\n                    }).catch(err => {\n                        this.havemore = true;\n                    })\n                } else {\n                    this.topicInfo && getExperienceList({\n                        topicId: this.topicInfo.topicId,\n                        expId: this.list[this.list.length - 1].id\n                    }).then(_ => {\n                        if (_.data.code === 200) {\n                            var d = _.data.result;\n                            this.list = this.list.concat(d);\n                            this.loading = false;\n                        } else {\n                            this.havemore = true;\n                        }\n                    }).catch(err => {\n                        this.havemore = true;\n                    })\n                }\n            }\n        },\n        mounted() {\n            // 拿到theme-li.vue中的定义的Env()实例，和环境检查函数\n            // this.$env = this.$root['$env'];\n            this.$handleEnvCheck = this.$root['$handleEnvCheck'];\n        }\n    }\n</script>\n\n<style scoped='' type='text/css'>\n    ul {\n        padding: none;\n        list-style: none;\n    }\n    .area__comment {\n        max-width: 100%;\n        margin: 0 auto;\n        border-top: 10px #F0F0F2 solid;\n        background: #fff;\n    }\n    .area__comment * {\n        box-sizing: border-box;\n    }\n    .area__comment ul {\n        padding: 0;\n        margin: 0;\n    }\n    .area__comment .comment__header {\n        padding: 15px;\n        font-size: 14px;\n        font-family: PingFangSC-Medium;\n        font-weight: 500;\n        color: rgba(51, 54, 64, 1);\n    }\n    .area__comment .dropdown__footer--nomore {\n        padding: 10px;\n        font-size: 14px;\n        font-family: PingFangSC-Regular;\n        font-weight: 400;\n        color: #E6E6E6;\n    }\n    .area__comment .list--nodata {\n        text-align: center;\n        padding: 10px;\n        font-size: 14px;\n        font-family: PingFangSC-Regular;\n        font-weight: 400;\n        color: #E6E6E6;\n        border-top: 1px solid rgba(177, 177, 184, 1);\n    }\n    .area__comment .list--nodata img {\n        margin: 0 auto;\n        display: block;\n        width: 50%;\n    }\n    .area__comment .btn__write__exp {\n        position: fixed;\n        width: 64px;\n        height: 64px;\n        bottom: 15%;\n        right: 5px;\n        background: url(\"https://official-web.oss-cn-beijing.aliyuncs.com/towords/dynamic/Public/btn_write_exp.png\");\n        -webkit-background-size: 64px 64px;\n        background-size: 64px 64px;\n        z-index: 999;\n    }\n</style>"]}]}