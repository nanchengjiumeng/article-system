{"remainingRequest":"/Users/ricardo/Desktop/article-system/node_modules/babel-loader/lib/index.js??ref--3-1!/Users/ricardo/Desktop/article-system/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/ricardo/Desktop/article-system/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ricardo/Desktop/article-system/weekly/.vuepress/components/EnvDetect.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/ricardo/Desktop/article-system/weekly/.vuepress/components/EnvDetect.vue","mtime":1568785128449},{"path":"/Users/ricardo/Desktop/article-system/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ricardo/Desktop/article-system/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/ricardo/Desktop/article-system/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ricardo/Desktop/article-system/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGVudiBmcm9tICIuLi91dGlscy9icm93c2Vyc0Vudmlyb25tZW50IjsKaW1wb3J0IHsgYW5kcm9pZE9wZW5BcHAsIGFuZHJvaWREb3dubG9hZCB9IGZyb20gIi4uL2FwaS9hcHBCYXNlL2FuZHJvaWQiOwppbXBvcnQgeyBpb3NEb3dubG9hZCwgaW9zT3BlbkFwcCB9IGZyb20gIi4uL2FwaS9hcHBCYXNlL2lvcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnRW52RGV0ZWN0JywKICBwcm9wczogWyJpb3MiLCAiYW5kcm9pZCJdLAogIG1ldGhvZHM6IHsKICAgIGNsaWNrSGFuZGxlcjogZnVuY3Rpb24gY2xpY2tIYW5kbGVyKCkgewogICAgICB2YXIgZW52ID0gdGhpcy5lbnY7CiAgICAgIHZhciBhbmRyID0gdGhpcy5hbmRyb2lkLAogICAgICAgICAgaW9zID0gdGhpcy5pb3MsCiAgICAgICAgICB0VmVyc2lvbiA9IGVudi50b3dvcmRzLnZlcnNpb247CgogICAgICBpZiAoZW52LnRoaXJkUGFydHkpIHsKICAgICAgICB0aGlzLnRvQnJvd3NlcigpOwogICAgICB9IGVsc2UgaWYgKGVudi50b3dvcmRzLmlzdG93b3JkcykgewogICAgICAgIGlmIChlbnYub3MuYW5kcm9pZCkgewogICAgICAgICAgaWYgKHRWZXJzaW9uID49IGFuZHIudmVyc2lvbikgewogICAgICAgICAgICBhbmRyLmNiICYmIGFuZHIuY2IoKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGFuZHJvaWREb3dubG9hZCgpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAoZW52Lm9zLmlvcykgewogICAgICAgICAgaWYgKHRWZXJzaW9uID49IGlvcy52ZXJzaW9uKSB7CiAgICAgICAgICAgIGlvcy5jYiAmJiBpb3MuY2IoKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGlvc0Rvd25sb2FkKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGlmIChlbnYub3MuYW5kcm9pZCkgewogICAgICAgICAgY29uc29sZS5sb2coJ2FwcCcpOwogICAgICAgICAgYW5kcm9pZE9wZW5BcHAoKTsKICAgICAgICB9IGVsc2UgaWYgKGVudi5vcy5pb3MpIHsKICAgICAgICAgIGlvc09wZW5BcHAoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICAvLyAxLnRoaXJkIHBhcnR5CiAgICBkaWFsb2dCb3g6IGZ1bmN0aW9uIGRpYWxvZ0JveChvcHQpIHsKICAgICAgdmFyIGltYWdlQ2xhc3NOYW1lID0gb3B0LmltYWdlQ2xhc3NOYW1lLAogICAgICAgICAgaW1hZ2UgPSBvcHQuaW1hZ2U7CiAgICAgIHZhciBib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgICAgYm94LmNsYXNzTmFtZSA9ICdkaWFsb2cgZGlhbG9nLWJnJzsKICAgICAgYm94LmlubmVySFRNTCArPSAnPGltZyBjbGFzcz0iJyArIGltYWdlQ2xhc3NOYW1lICsgJyIgc3JjPSInICsgaW1hZ2UgKyAnIi8+JzsKICAgICAgYm94LmlubmVySFRNTCArPSAnICAgIDwvZGl2Pic7CiAgICAgIGJveC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgb3B0LmNhbmNlbCAmJiBvcHQuY2FuY2VsKGNsb3NlKTsKICAgICAgfSk7CiAgICAgIGJveC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBmdW5jdGlvbiAoZSkgewogICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgfSk7CiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYm94KTsKCiAgICAgIGZ1bmN0aW9uIGNsb3NlKCkgewogICAgICAgIGJveC5zdHlsZS5hbmltYXRpb24gPSAnZmFkZU91dCAuMnMgbGluZWFyJzsKICAgICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGJveCk7CiAgICAgICAgfSwgMTAwKTsKICAgICAgfQogICAgfSwKICAgIHRvQnJvd3NlcjogZnVuY3Rpb24gdG9Ccm93c2VyKGNiKSB7CiAgICAgIHRoaXMuZGlhbG9nQm94KHsKICAgICAgICBpbWFnZTogJ2h0dHBzOi8vb2ZmaWNpYWwtd2ViLm9zcy1jbi1iZWlqaW5nLmFsaXl1bmNzLmNvbS90b3dvcmRzL2F2YXRhcnMvd2VjaGF0X2JnLnBuZycsCiAgICAgICAgaW1hZ2VDbGFzc05hbWU6ICd0by1icm93c2VyJywKICAgICAgICBjYW5jZWw6IGZ1bmN0aW9uIGNhbmNlbChjbG9zZSkgewogICAgICAgICAgaWYgKGNiICYmIGNiIGluc3RhbmNlb2YgRnVuY3Rpb24pIHsKICAgICAgICAgICAgY2IoY2xvc2UpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY2xvc2UoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfSAvLyB0aGlyZCBwYXJ0eSBlbmQKCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHt9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuZW52ID0gZW52KG5hdmlnYXRvci51c2VyQWdlbnQsIG5hdmlnYXRvci5wbGF0Zm9ybSk7CiAgfQp9Ow=="},{"version":3,"sources":["/Users/ricardo/Desktop/article-system/weekly/.vuepress/components/EnvDetect.vue"],"names":["env","androidOpenApp","androidDownload","iosDownload","iosOpenApp","name","props","methods","clickHandler","andr","android","ios","tVersion","towords","version","thirdParty","toBrowser","istowords","os","cb","console","log","dialogBox","opt","imageClassName","image","box","document","createElement","className","innerHTML","addEventListener","e","cancel","close","preventDefault","body","appendChild","style","animation","window","setTimeout","removeChild","Function","data","mounted","navigator","userAgent","platform"],"mappings":"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","sourcesContent":["//\n//\n//\n//\n//\n//\n\nimport env from '../utils/browsersEnvironment'\nimport {\n    androidOpenApp,\n    androidDownload\n} from '../api/appBase/android'\nimport {\n    iosDownload,\n    iosOpenApp\n} from '../api/appBase/ios'\nexport default {\n    name: 'EnvDetect',\n    props: [\"ios\", \"android\"],\n    methods: {\n        clickHandler() {\n            var env = this.env\n            let andr = this.android,\n                ios = this.ios,\n                tVersion = env.towords.version\n            if (env.thirdParty) {\n                this.toBrowser();\n            } else if (env.towords.istowords) {\n                if (env.os.android) {\n                    if (tVersion >= andr.version) {\n                        andr.cb && andr.cb()\n                    } else {\n                        androidDownload();\n                    }\n                } else if (env.os.ios) {\n                    if (tVersion >= ios.version) {\n                        ios.cb && ios.cb()\n                    } else {\n                        iosDownload();\n                    }\n                }\n            } else {\n                if (env.os.android) {\n                    console.log('app');\n                    \n                    androidOpenApp()\n                } else if (env.os.ios) {\n                    iosOpenApp()\n                }\n            }\n        },\n        // 1.third party\n        dialogBox(opt) {\n            var imageClassName = opt.imageClassName,\n                image = opt.image\n            var box = document.createElement('div');\n            box.className = 'dialog dialog-bg';\n            box.innerHTML += '<img class=\"' + imageClassName + '\" src=\"' + image + '\"/>'\n            box.innerHTML += '    </div>';\n            box.addEventListener('click', function(e) {\n                opt.cancel && opt.cancel(close);\n            });\n            box.addEventListener('touchmove', function(e) {\n                e.preventDefault();\n            });\n            document.body.appendChild(box);\n            function close() {\n                box.style.animation = 'fadeOut .2s linear';\n                window.setTimeout(function() {\n                    document.body.removeChild(box);\n                }, 100)\n            }\n        },\n        toBrowser(cb) {\n            this.dialogBox({\n                image: 'https://official-web.oss-cn-beijing.aliyuncs.com/towords/avatars/wechat_bg.png',\n                imageClassName: 'to-browser',\n                cancel: function(close) {\n                    if (cb && (cb instanceof Function)) {\n                        cb(close);\n                    } else {\n                        close();\n                    }\n                }\n            })\n        },\n        // third party end\n    },\n    data() {\n        return {}\n    },\n    mounted(){\n        this.env = env(navigator.userAgent, navigator.platform);\n    }\n}\n"]}]}