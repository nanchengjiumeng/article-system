{"remainingRequest":"/Users/ricardo/Desktop/article-system/node_modules/babel-loader/lib/index.js??ref--3-1!/Users/ricardo/Desktop/article-system/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/ricardo/Desktop/article-system/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ricardo/Desktop/article-system/weekly/.vuepress/components/AreaComment.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/ricardo/Desktop/article-system/weekly/.vuepress/components/AreaComment.vue","mtime":1568801353868},{"path":"/Users/ricardo/Desktop/article-system/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ricardo/Desktop/article-system/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/ricardo/Desktop/article-system/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ricardo/Desktop/article-system/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgZ2V0RXhwZXJpZW5jZUxpc3QgfSBmcm9tICIuLi9hcGkvcmVxdWVzdC9leHBlcmllbmNlIjsKaW1wb3J0IEl0ZW1Db21tZW50IGZyb20gIi4vSXRlbUNvbW1lbnQiOwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IFsidG9waWNJbmZvIl0sCiAgY29tcG9uZW50czogewogICAgSXRlbUNvbW1lbnQ6IEl0ZW1Db21tZW50CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbGlzdDogW10sCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBoYXZlbW9yZTogZmFsc2UKICAgIH07CiAgfSwKICAvLyDmjqXmlLbnpZblhYjnu4Tku7Z0aGVtZS1saS52dWXkvKDmnaXnmoRFbnYoKeWunuS+iwogIG1ldGhvZHM6IHsKICAgIC8vIGlkOiDlv4PlvpdpZAogICAgaGFuZGxlSXRlbUNsaWNrZWQ6IGZ1bmN0aW9uIGhhbmRsZUl0ZW1DbGlja2VkKF9yZWYpIHsKICAgICAgdmFyIGlkID0gX3JlZi5pZDsKICAgICAgdGhpcy4kaGFuZGxlRW52Q2hlY2soZnVuY3Rpb24gKGVudikgewogICAgICAgIC8vIOi3s+i9rOWIsOaLk+ivjeeahOW/g+W+l+mhtemdogogICAgICAgIGlmIChlbnYgJiYgZW52Lmp1bXBUb0V4cCBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7CiAgICAgICAgICBlbnYuanVtcFRvRXhwKGlkKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGxvYWRNb3JlOiBmdW5jdGlvbiBsb2FkTW9yZSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CgogICAgICBpZiAodGhpcy5saXN0Lmxlbmd0aCA9PT0gMCkgewogICAgICAgIHRoaXMudG9waWNJbmZvICYmIGdldEV4cGVyaWVuY2VMaXN0KHsKICAgICAgICAgIHRvcGljSWQ6IHRoaXMudG9waWNJbmZvLnRvcGljSWQsCiAgICAgICAgICBleHBJZDogJycKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChfKSB7CiAgICAgICAgICBpZiAoXy5kYXRhLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgICB2YXIgZCA9IF8uZGF0YTsKICAgICAgICAgICAgaWYgKGQuY29kZSA9PT0gMjAwKSBfdGhpcy5saXN0ID0gZC5yZXN1bHQ7CiAgICAgICAgICAgIF90aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzLmhhdmVtb3JlID0gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICBfdGhpcy5oYXZlbW9yZSA9IHRydWU7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy50b3BpY0luZm8gJiYgZ2V0RXhwZXJpZW5jZUxpc3QoewogICAgICAgICAgdG9waWNJZDogdGhpcy50b3BpY0luZm8udG9waWNJZCwKICAgICAgICAgIGV4cElkOiB0aGlzLmxpc3RbdGhpcy5saXN0Lmxlbmd0aCAtIDFdLmlkCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoXykgewogICAgICAgICAgaWYgKF8uZGF0YS5jb2RlID09PSAyMDApIHsKICAgICAgICAgICAgdmFyIGQgPSBfLmRhdGEucmVzdWx0OwogICAgICAgICAgICBfdGhpcy5saXN0ID0gX3RoaXMubGlzdC5jb25jYXQoZCk7CiAgICAgICAgICAgIF90aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzLmhhdmVtb3JlID0gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICBfdGhpcy5oYXZlbW9yZSA9IHRydWU7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICAvLyDmi7/liLB0aGVtZS1saS52dWXkuK3nmoTlrprkuYnnmoRFbnYoKeWunuS+i++8jOWSjOeOr+Wig+ajgOafpeWHveaVsAogICAgLy8gdGhpcy4kZW52ID0gdGhpcy4kcm9vdFsnJGVudiddOwogICAgdGhpcy4kaGFuZGxlRW52Q2hlY2sgPSB0aGlzLiRyb290WyckaGFuZGxlRW52Q2hlY2snXTsKICB9Cn07"},{"version":3,"sources":["AreaComment.vue"],"names":[],"mappings":";;;;;;;;;;;;;AAcA,SACA,iBADA;AAGA,OAAA,WAAA;AACA,eAAA;AACA,EAAA,KAAA,EAAA,CAAA,WAAA,CADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,WAAA,EAAA;AADA,GAFA;AAKA,EAAA,IALA,kBAKA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,EADA;AAEA,MAAA,OAAA,EAAA,KAFA;AAGA,MAAA,QAAA,EAAA;AAHA,KAAA;AAKA,GAXA;AAYA;AACA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,iBAFA,mCAIA;AAAA,UADA,EACA,QADA,EACA;AACA,WAAA,eAAA,CAAA,UAAA,GAAA,EAAA;AACA;AACA,YAAA,GAAA,IAAA,GAAA,CAAA,SAAA,YAAA,QAAA,EAAA;AACA,UAAA,GAAA,CAAA,SAAA,CAAA,EAAA;AACA;AACA,OALA;AAMA,KAXA;AAYA,IAAA,QAZA,sBAYA;AAAA;;AACA,WAAA,OAAA,GAAA,IAAA;;AACA,UAAA,KAAA,IAAA,CAAA,MAAA,KAAA,CAAA,EAAA;AACA,aAAA,SAAA,IAAA,iBAAA,CAAA;AACA,UAAA,OAAA,EAAA,KAAA,SAAA,CAAA,OADA;AAEA,UAAA,KAAA,EAAA;AAFA,SAAA,CAAA,CAGA,IAHA,CAGA,UAAA,CAAA,EAAA;AACA,cAAA,CAAA,CAAA,IAAA,CAAA,IAAA,KAAA,GAAA,EAAA;AACA,gBAAA,CAAA,GAAA,CAAA,CAAA,IAAA;AACA,gBAAA,CAAA,CAAA,IAAA,KAAA,GAAA,EAAA,KAAA,CAAA,IAAA,GAAA,CAAA,CAAA,MAAA;AACA,YAAA,KAAA,CAAA,OAAA,GAAA,KAAA;AACA,WAJA,MAIA;AACA,YAAA,KAAA,CAAA,QAAA,GAAA,IAAA;AACA;AACA,SAXA,EAWA,KAXA,CAWA,UAAA,GAAA,EAAA;AACA,UAAA,KAAA,CAAA,QAAA,GAAA,IAAA;AACA,SAbA,CAAA;AAcA,OAfA,MAeA;AACA,aAAA,SAAA,IAAA,iBAAA,CAAA;AACA,UAAA,OAAA,EAAA,KAAA,SAAA,CAAA,OADA;AAEA,UAAA,KAAA,EAAA,KAAA,IAAA,CAAA,KAAA,IAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AAFA,SAAA,CAAA,CAGA,IAHA,CAGA,UAAA,CAAA,EAAA;AACA,cAAA,CAAA,CAAA,IAAA,CAAA,IAAA,KAAA,GAAA,EAAA;AACA,gBAAA,CAAA,GAAA,CAAA,CAAA,IAAA,CAAA,MAAA;AACA,YAAA,KAAA,CAAA,IAAA,GAAA,KAAA,CAAA,IAAA,CAAA,MAAA,CAAA,CAAA,CAAA;AACA,YAAA,KAAA,CAAA,OAAA,GAAA,KAAA;AACA,WAJA,MAIA;AACA,YAAA,KAAA,CAAA,QAAA,GAAA,IAAA;AACA;AACA,SAXA,EAWA,KAXA,CAWA,UAAA,GAAA,EAAA;AACA,UAAA,KAAA,CAAA,QAAA,GAAA,IAAA;AACA,SAbA,CAAA;AAcA;AACA;AA7CA,GAbA;AA4DA,EAAA,OA5DA,qBA4DA;AACA;AACA;AACA,SAAA,eAAA,GAAA,KAAA,KAAA,CAAA,iBAAA,CAAA;AACA;AAhEA,CAAA","sourcesContent":["<template>\n    <div class=\"area__comment\">\n        <header class=\"comment__header\">\n            心得\n        </header>\n        <ul v-infinite-scroll=\"loadMore\" infinite-scroll-disabled=\"loading\" infinite-scroll-distance=\"10\">\n            <li v-for=\"item in list\" @click=\"handleItemClicked(item)\">\n                <ItemComment :itemData=\"item\" />\n            </li>\n        </ul>\n    </div>\n</template>\n\n<script type='text/ecmascript-6'>\n    import {\n        getExperienceList\n    } from '../api/request/experience'\n    import ItemComment from './ItemComment'\n    export default {\n        props: [\"topicInfo\"],\n        components: {\n            ItemComment\n        },\n        data() {\n            return {\n                list: [],\n                loading: false,\n                havemore: false\n            }\n        },\n        // 接收祖先组件theme-li.vue传来的Env()实例\n        methods: {\n            // id: 心得id\n            handleItemClicked({\n                id\n            }) {\n                this.$handleEnvCheck(function(env) {\n                    // 跳转到拓词的心得页面\n                    if (env && env.jumpToExp instanceof Function) {\n                        env.jumpToExp(id);\n                    }\n                })\n            },\n            loadMore() {\n                this.loading = true;\n                if (this.list.length === 0) {\n                    this.topicInfo && getExperienceList({\n                        topicId: this.topicInfo.topicId,\n                        expId: ''\n                    }).then(_ => {\n                        if (_.data.code === 200) {\n                            let d = _.data;\n                            if (d.code === 200) this.list = d.result;\n                            this.loading = false;\n                        } else {\n                            this.havemore = true;\n                        }\n                    }).catch(err => {\n                        this.havemore = true;\n                    })\n                } else {\n                    this.topicInfo && getExperienceList({\n                        topicId: this.topicInfo.topicId,\n                        expId: this.list[this.list.length - 1].id\n                    }).then(_ => {\n                        if (_.data.code === 200) {\n                            var d = _.data.result;\n                            this.list = this.list.concat(d);\n                            this.loading = false;\n                        } else {\n                            this.havemore = true;\n                        }\n                    }).catch(err => {\n                        this.havemore = true;\n                    })\n                }\n            }\n        },\n        mounted() {\n            // 拿到theme-li.vue中的定义的Env()实例，和环境检查函数\n            // this.$env = this.$root['$env'];\n            this.$handleEnvCheck = this.$root['$handleEnvCheck'];\n        }\n    }\n</script>\n\n<style scoped='' type='text/css'>\n    ul {\n        padding: none;\n        list-style: none;\n    }\n    .area__comment {\n        max-width: 100%;\n        margin: 0 auto;\n        border-top: 10px #F0F0F2 solid;\n        background: #fff;\n    }\n    .area__comment * {\n        box-sizing: border-box;\n    }\n    .area__comment ul {\n        padding: 0;\n        margin: 0;\n    }\n    .area__comment .comment__header {\n        padding: 15px;\n        font-size: 14px;\n        font-family: PingFangSC-Medium;\n        font-weight: 500;\n        color: rgba(51, 54, 64, 1);\n    }\n    .area__comment .dropdown__footer--nomore {\n        padding: 10px;\n        font-size: 14px;\n        font-family: PingFangSC-Regular;\n        font-weight: 400;\n        color: #E6E6E6;\n    }\n    .area__comment .list--nodata {\n        text-align: center;\n        padding: 10px;\n        font-size: 14px;\n        font-family: PingFangSC-Regular;\n        font-weight: 400;\n        color: #E6E6E6;\n        border-top: 1px solid rgba(177, 177, 184, 1);\n    }\n    .area__comment .list--nodata img {\n        margin: 0 auto;\n        display: block;\n        width: 50%;\n    }\n    .area__comment .btn__write__exp {\n        position: fixed;\n        width: 64px;\n        height: 64px;\n        bottom: 15%;\n        right: 5px;\n        background: url(\"https://official-web.oss-cn-beijing.aliyuncs.com/towords/dynamic/Public/btn_write_exp.png\");\n        -webkit-background-size: 64px 64px;\n        background-size: 64px 64px;\n        z-index: 999;\n    }\n</style>"],"sourceRoot":"weekly/.vuepress/components"}]}