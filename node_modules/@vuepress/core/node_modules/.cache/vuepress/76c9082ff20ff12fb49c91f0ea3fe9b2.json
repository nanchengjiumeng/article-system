{"remainingRequest":"/Users/ricardo/Desktop/article-system/node_modules/babel-loader/lib/index.js??ref--3-1!/Users/ricardo/Desktop/article-system/weekly/.vuepress/api/wx.js","dependencies":[{"path":"/Users/ricardo/Desktop/article-system/weekly/.vuepress/api/wx.js","mtime":1568805416925},{"path":"/Users/ricardo/Desktop/article-system/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ricardo/Desktop/article-system/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXM2LnJlZ2V4cC5zZWFyY2giOwppbXBvcnQgeyBnZXRXeFNoYXJlRGF0YSB9IGZyb20gIi4vYXBpL3JlcXVlc3QiOwppbXBvcnQgcmVxdWVzdCBmcm9tICIuLi91dGlscy9yZXF1ZXN0IjsgLy8gaW1wb3J0ICdAL2Fzc2V0cy93eGRpYWxvZy5jc3MnCgovKiAK5b6u5L+hIOWfuuS6juKAnGh0dHBzOi8vd3d3LnRvcHNjaG9vbC5jb20vanMvandlaXhpbi0xLjIuMi5qc+KAnSAsaHRtbOW8leWFpei/meS4qmpz5paH5Lu277yM5omN6IO95oiQ5Yqf5omn6KGMc2hhcmVJbmZvMldlY2hhdCgpOwpAcGFyYW0ge1N0cmluZ30gYXJncy5pbWFnZSDlvq7kv6HliIbkuqvlh7rljrvlkI7nmoTlsI/lm77niYcgCkBwYXJhbSB7U3RyaW5nfSBhcmdzLnRpdGxlIOW+ruS/oeWIhuS6q+WHuuWOu+eahOagh+mimApAcGFyYW0ge1N0cmluZ30gYXJncy5zdWJUaXRsZSDlvq7kv6HliIbkuqvlh7rljrvlkI7nmoTlsI/moIfpopggCkBwYXJhbSB7U3RyaW5nfSBhcmdzLmxpbmtVcmwg5b6u5L+h5YiG5Lqr5Ye65Y675ZCO55qEdXJs5Zyw5Z2ACiovCgpleHBvcnQgdmFyIHNoYXJlSW5mbzJXZWNoYXQgPSBmdW5jdGlvbiBzaGFyZUluZm8yV2VjaGF0KF9yZWYpIHsKICB2YXIgaW1hZ2UgPSBfcmVmLmltYWdlLAogICAgICBzdWJUaXRsZSA9IF9yZWYuc3ViVGl0bGUsCiAgICAgIHRpdGxlID0gX3JlZi50aXRsZSwKICAgICAgX3JlZiRsaW5rVXJsID0gX3JlZi5saW5rVXJsLAogICAgICBsaW5rVXJsID0gX3JlZiRsaW5rVXJsID09PSB2b2lkIDAgPyBsb2NhdGlvbi5ocmVmIDogX3JlZiRsaW5rVXJsOwogIHZhciBvcHRpb25zID0gewogICAgdGl0bGU6IHRpdGxlLAogICAgLy8g5YiG5Lqr5qCH6aKYCiAgICBkZXNjOiBzdWJUaXRsZSwKICAgIC8vIOWIhuS6q+aPj+i/sAogICAgbGluazogbGlua1VybCwKICAgIC8vIOWIhuS6q+mTvuaOpe+8jOivpemTvuaOpeWfn+WQjeaIlui3r+W+hOW/hemhu+S4juW9k+WJjemhtemdouWvueW6lOeahOWFrOS8l+WPt0pT5a6J5YWo5Z+f5ZCN5LiA6Ie0CiAgICBpbWdVcmw6IGltYWdlLAogICAgLy8g5YiG5Lqr5Zu+5qCHCiAgICBzdWNjZXNzOiBmdW5jdGlvbiBzdWNjZXNzKCkgey8vIOiuvue9ruaIkOWKnwogICAgfQogIH0sCiAgICAgIGNvbmZpZyA9IHsKICAgIGRlYnVnOiBmYWxzZSwKICAgIGFwcElkOiAnJywKICAgIC8vIOW/heWhq++8jOWFrOS8l+WPt+eahOWUr+S4gOagh+ivhgogICAgdGltZXN0YW1wOiBudWxsLAogICAgLy8g5b+F5aGr77yM55Sf5oiQ562+5ZCN55qE5pe26Ze05oizCiAgICBub25jZVN0cjogJycsCiAgICAvLyDlv4XloavvvIznlJ/miJDnrb7lkI3nmoTpmo/mnLrkuLIKICAgIHNpZ25hdHVyZTogJycgLy8g5b+F5aGr77yM562+5ZCNCiAgICAvLyBqc0FwaUxpc3Q6IFsidXBkYXRlVGltZWxpbmVTaGFyZURhdGEiLCJ1cGRhdGVBcHBNZXNzYWdlU2hhcmVEYXRhIl0gCiAgICAvLyDlv4XloavvvIzpnIDopoHkvb/nlKjnmoRKU+aOpeWPo+WIl+ihqAoKICB9LAogICAgICB1cmwgPSBlbmNvZGVVUklDb21wb25lbnQod2luZG93LmxvY2F0aW9uLm9yaWdpbiArIHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSArIHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpOwoKICB0cnkgewogICAgd3gucmVhZHkoZnVuY3Rpb24gKCkgewogICAgICB3eC5vbk1lbnVTaGFyZVRpbWVsaW5lKG9wdGlvbnMpOwogICAgICB3eC5vbk1lbnVTaGFyZUFwcE1lc3NhZ2Uob3B0aW9ucyk7CiAgICB9KTsKICAgIHd4LmVycm9yKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgY29uc29sZS5sb2cocmVzKTsgLy8gY29uZmln5L+h5oGv6aqM6K+B5aSx6LSl5Lya5omn6KGMZXJyb3Llh73mlbDvvIzlpoLnrb7lkI3ov4fmnJ/lr7zoh7Tpqozor4HlpLHotKXvvIzlhbfkvZPplJnor6/kv6Hmga/lj6/ku6XmiZPlvIBjb25maWfnmoRkZWJ1Z+aooeW8j+afpeeci++8jOS5n+WPr+S7peWcqOi/lOWbnueahHJlc+WPguaVsOS4reafpeeci++8jOWvueS6jlNQQeWPr+S7peWcqOi/memHjOabtOaWsOetvuWQjeOAggogICAgfSk7CiAgICBnZXRXeFNoYXJlRGF0YSh1cmwpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICBpZiAocmVzLmRhdGEuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgd3guY29uZmlnKE9iamVjdC5hc3NpZ24oY29uZmlnLCByZXMuZGF0YS5yZXN1bHQpKTsKICAgICAgfQogICAgfSk7CiAgfSBjYXRjaCAoZSkgewogICAgY29uc29sZS5sb2coJ3d4IGlzIG5vdCBkZWZpbmVkLicpOwogIH0gLy8gY29uc29sZS5sb2coaW1hZ2UsIHN1YlRpdGxlLCB0aXRsZSwgbGlua1VybCk7Cgp9OwovKiDlvq7kv6HmlK/ku5jmjqXlj6MKQHBhcmFtIHtOdW1iZXJ9IGFyZ3VtZW50cy5wcm9kdWN0SWQg5ZWG5ZOBaWQKQHBhcmFtIHtTdHJpbmd9IGFyZ3VtZW50cy51c2VySWQg5ouT6K+N55So5oi3aWQKQHJldHVybnMge1Byb21pc2V9IGF4aW9z6K+35rGC55qEUHJvbWlzZeWvueixoQogKi8KCmV4cG9ydCB2YXIgZ2V0UHJlcGF5SW5mbyA9IGZ1bmN0aW9uIGdldFByZXBheUluZm8oX3JlZjIpIHsKICB2YXIgcHJvZHVjdElkID0gX3JlZjIucHJvZHVjdElkLAogICAgICB1c2VySWQgPSBfcmVmMi51c2VySWQ7CiAgcmV0dXJuIHJlcXVlc3QoewogICAgYmFzZVVSTDogImh0dHBzOi8vd3gudG93b3Jkcy5jb20iLAogICAgdXJsOiAiL2g1cGF5L2dldF9wcmVwYXlfaW5mby5kbyIsCiAgICBkYXRhOiB7CiAgICAgIHByb2R1Y3RfaWQ6IHByb2R1Y3RJZCwKICAgICAgdXNlcl9pZDogdXNlcklkCiAgICB9LAogICAgbWV0aG9kOiAncG9zdCcKICB9KTsKfTsKLyogCuiwg+eUqOatpOaOpeWPo+aJk+W8gOKAnOivt+WcqOa1j+iniOWZqOS4reaJk+W8gOKAnSDpga7nvanlsYIKKi8KCmV4cG9ydCB2YXIgdG9nZ2xlVG9Ccm93c2VyQ3VlID0gZnVuY3Rpb24gdG9nZ2xlVG9Ccm93c2VyQ3VlKCkgewogIH5mdW5jdGlvbiBkaWFsb2dCb3gob3B0KSB7CiAgICB2YXIgaW1hZ2VDbGFzc05hbWUgPSBvcHQuaW1hZ2VDbGFzc05hbWUsCiAgICAgICAgaW1hZ2UgPSBvcHQuaW1hZ2U7CiAgICB2YXIgYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICBib3guY2xhc3NOYW1lID0gJ3d4X19kaWFsb2cgd3hfX2RpYWxvZ19fYmcnOwogICAgYm94LmlubmVySFRNTCArPSAnPGltZyBjbGFzcz0iJyArIGltYWdlQ2xhc3NOYW1lICsgJyIgc3JjPSInICsgaW1hZ2UgKyAnIi8+JzsKICAgIGJveC5pbm5lckhUTUwgKz0gJzwvZGl2Pic7CiAgICBib3guYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7CiAgICAgIG9wdC5jYW5jZWwgJiYgb3B0LmNhbmNlbChjbG9zZSk7CiAgICB9KTsKICAgIGJveC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBmdW5jdGlvbiAoZSkgewogICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICB9KTsKICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYm94KTsKCiAgICBmdW5jdGlvbiBjbG9zZSgpIHsKICAgICAgYm94LnN0eWxlLmFuaW1hdGlvbiA9ICdmYWRlT3V0IC4ycyBsaW5lYXInOwogICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChib3gpOwogICAgICB9LCAxMDApOwogICAgfQogIH0oewogICAgaW1hZ2U6ICdodHRwczovL29mZmljaWFsLXdlYi5vc3MtY24tYmVpamluZy5hbGl5dW5jcy5jb20vdG93b3Jkcy9hdmF0YXJzL3dlY2hhdF9iZy5wbmcnLAogICAgaW1hZ2VDbGFzc05hbWU6ICd0b19fYnJvd3NlcicsCiAgICBjYW5jZWw6IGZ1bmN0aW9uIGNhbmNlbChjbG9zZSkgewogICAgICBjbG9zZSAmJiBjbG9zZSgpOwogICAgfQogIH0pOwp9Ow=="},{"version":3,"sources":["/Users/ricardo/Desktop/article-system/weekly/.vuepress/api/wx.js"],"names":["getWxShareData","request","shareInfo2Wechat","image","subTitle","title","linkUrl","location","href","options","desc","link","imgUrl","success","config","debug","appId","timestamp","nonceStr","signature","url","encodeURIComponent","window","origin","pathname","search","wx","ready","onMenuShareTimeline","onMenuShareAppMessage","error","res","console","log","then","data","code","Object","assign","result","e","getPrepayInfo","productId","userId","baseURL","product_id","user_id","method","toggleToBrowserCue","dialogBox","opt","imageClassName","box","document","createElement","className","innerHTML","addEventListener","cancel","close","preventDefault","body","appendChild","style","animation","setTimeout","removeChild"],"mappings":"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","sourcesContent":["import {\n    getWxShareData\n} from './api/request'\nimport request from '../utils/request'\n\n// import '@/assets/wxdialog.css'\n\n/* \n微信 基于“https://www.topschool.com/js/jweixin-1.2.2.js” ,html引入这个js文件，才能成功执行shareInfo2Wechat();\n@param {String} args.image 微信分享出去后的小图片 \n@param {String} args.title 微信分享出去的标题\n@param {String} args.subTitle 微信分享出去后的小标题 \n@param {String} args.linkUrl 微信分享出去后的url地址\n*/\nexport const shareInfo2Wechat = function ({\n    image,\n    subTitle,\n    title,\n    linkUrl = location.href\n}) {\n    let options = {\n        title: title, // 分享标题\n        desc: subTitle, // 分享描述\n        link: linkUrl, // 分享链接，该链接域名或路径必须与当前页面对应的公众号JS安全域名一致\n        imgUrl: image, // 分享图标\n        success: function () {\n            // 设置成功\n        }\n    },\n        config = {\n            debug: false,\n            appId: '', // 必填，公众号的唯一标识\n            timestamp: null, // 必填，生成签名的时间戳\n            nonceStr: '', // 必填，生成签名的随机串\n            signature: '', // 必填，签名\n            // jsApiList: [\"updateTimelineShareData\",\"updateAppMessageShareData\"] \n            // 必填，需要使用的JS接口列表\n        },\n        url = encodeURIComponent(window.location.origin + window.location.pathname + window.location.search);\n    try{\n        wx.ready(function () {\n            wx.onMenuShareTimeline(options);\n            wx.onMenuShareAppMessage(options);\n        })\n        wx.error(function (res) {\n            console.log(res);\n            // config信息验证失败会执行error函数，如签名过期导致验证失败，具体错误信息可以打开config的debug模式查看，也可以在返回的res参数中查看，对于SPA可以在这里更新签名。\n        });\n        getWxShareData(url).then(res => {\n            if (res.data.code === 200) {\n                wx.config(Object.assign(config, res.data.result));\n            }\n        })\n    }catch(e){\n        console.log('wx is not defined.');\n        \n    }\n  \n    // console.log(image, subTitle, title, linkUrl);\n}\n\n\n\n/* 微信支付接口\n@param {Number} arguments.productId 商品id\n@param {String} arguments.userId 拓词用户id\n@returns {Promise} axios请求的Promise对象\n */\nexport const getPrepayInfo = function ({ productId, userId }) {\n    return request({\n        baseURL: \"https://wx.towords.com\",\n        url: \"/h5pay/get_prepay_info.do\",\n        data: { product_id: productId, user_id: userId },\n        method: 'post',\n    })\n}\n\n\n\n/* \n调用此接口打开“请在浏览器中打开” 遮罩层\n*/\nexport const toggleToBrowserCue = function () {\n    ~function dialogBox(opt) {\n        var imageClassName = opt.imageClassName,\n            image = opt.image\n        var box = document.createElement('div');\n        box.className = 'wx__dialog wx__dialog__bg';\n        box.innerHTML += '<img class=\"' + imageClassName + '\" src=\"' + image + '\"/>'\n        box.innerHTML += '</div>';\n        box.addEventListener('click', function () {\n            opt.cancel && opt.cancel(close);\n        });\n        box.addEventListener('touchmove', function (e) {\n            e.preventDefault();\n        });\n        document.body.appendChild(box);\n        function close() {\n            box.style.animation = 'fadeOut .2s linear';\n            window.setTimeout(function () {\n                document.body.removeChild(box);\n            }, 100)\n        }\n    }({\n        image: 'https://official-web.oss-cn-beijing.aliyuncs.com/towords/avatars/wechat_bg.png',\n        imageClassName: 'to__browser',\n        cancel: function (close) {\n            close && close();\n        }\n    })\n}"]}]}