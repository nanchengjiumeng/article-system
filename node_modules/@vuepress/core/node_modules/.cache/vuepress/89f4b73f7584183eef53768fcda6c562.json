{"remainingRequest":"/Users/ricardo/Desktop/article-system/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ricardo/Desktop/article-system/weekly/.vuepress/components/EnvDetect.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/ricardo/Desktop/article-system/weekly/.vuepress/components/EnvDetect.vue","mtime":1568787218469},{"path":"/Users/ricardo/Desktop/article-system/node_modules/@vuepress/core/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ricardo/Desktop/article-system/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/ricardo/Desktop/article-system/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/ricardo/Desktop/article-system/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ricardo/Desktop/article-system/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5kaWFsb2cgewogICAgcG9zaXRpb246IGZpeGVkOwogICAgdG9wOiAwOwogICAgbGVmdDogMDsKICAgIHRyYW5zaXRpb246IGFsbCBlYXNlLWluIDJzOwp9Ci5kaWFsb2ctYmcgewogICAgaGVpZ2h0OiAxMDAlOwogICAgd2lkdGg6IDEwMCU7CiAgICBiYWNrZ3JvdW5kOiByZ2JhKDMyLCAzOCwgNTQsIC44KTsKICAgIGFuaW1hdGlvbjogZmFkZUluIC4ycyBsaW5lYXI7CiAgICB6LWluZGV4OiA5OTk5Owp9CkBrZXlmcmFtZXMgZmFkZUluIHsKICAgIDAlIHsKICAgICAgICBvcGFjaXR5OiAwOwogICAgfQogICAgMTAwJSB7CiAgICAgICAgb3BhY2l0eTogMTsKICAgIH0KfQpAa2V5ZnJhbWVzIGZhZGVPdXQgewogICAgMCUgewogICAgICAgIG9wYWNpdHk6IDE7CiAgICB9CiAgICAxMDAlIHsKICAgICAgICBvcGFjaXR5OiAwOwogICAgfQp9Ci5kaWFsb2cgLnRvLWJyb3dzZXIgewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgcmlnaHQ6IDA7CiAgICB0b3A6IDA7CiAgICBtYXJnaW46IDQwcHggODBweDsKICAgIHdpZHRoOiAyMDBweDsKfQo="},{"version":3,"sources":["EnvDetect.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"EnvDetect.vue","sourceRoot":"weekly/.vuepress/components","sourcesContent":["<template>\n    <div @click=\"clickHandler\">\n        <slot name=\"content\"></slot>\n    </div>\n</template>\n\n<script type='text/javascript'>\n    import env from '@/utils/browsersEnvironment'\n    import {\n        androidOpenApp,\n        androidDownload\n    } from '@/api/appBase/android'\n    import {\n        iosDownload,\n        iosOpenApp\n    } from '@/api/appBase/ios'\n    export default {\n        name: 'EnvDetect',\n        props: [\"ios\", \"android\"],\n        methods: {\n            clickHandler() {\n                let andr = this.android,\n                    ios = this.ios,\n                    tVersion = env.towords.version\n                if (env.thirdParty) {\n                    this.toBrowser();\n                } else if (env.towords.istowords) {\n                    if (env.os.android) {\n                        if (tVersion >= andr.version) {\n                            andr.cb && andr.cb()\n                        } else {\n                            androidDownload();\n                        }\n                    } else if (env.os.ios) {\n                        if (tVersion >= ios.version) {\n                            ios.cb && ios.cb()\n                        } else {\n                            iosDownload();\n                        }\n                    }\n                } else {\n                    if (env.os.android) {\n                        console.log('app');\n                        \n                        androidOpenApp()\n                    } else if (env.os.ios) {\n                        iosOpenApp()\n                    }\n                }\n            },\n            // 1.third party\n            dialogBox(opt) {\n                var imageClassName = opt.imageClassName,\n                    image = opt.image\n                var box = document.createElement('div');\n                box.className = 'dialog dialog-bg';\n                box.innerHTML += '<img class=\"' + imageClassName + '\" src=\"' + image + '\"/>'\n                box.innerHTML += '    </div>';\n                box.addEventListener('click', function(e) {\n                    opt.cancel && opt.cancel(close);\n                });\n                box.addEventListener('touchmove', function(e) {\n                    e.preventDefault();\n                });\n                document.body.appendChild(box);\n                function close() {\n                    box.style.animation = 'fadeOut .2s linear';\n                    window.setTimeout(function() {\n                        document.body.removeChild(box);\n                    }, 100)\n                }\n            },\n            toBrowser(cb) {\n                this.dialogBox({\n                    image: 'https://official-web.oss-cn-beijing.aliyuncs.com/towords/avatars/wechat_bg.png',\n                    imageClassName: 'to-browser',\n                    cancel: function(close) {\n                        if (cb && (cb instanceof Function)) {\n                            cb(close);\n                        } else {\n                            close();\n                        }\n                    }\n                })\n            },\n            // third party end\n        },\n        data() {\n            return {}\n        }\n    }\n</script>\n\n<style  type='text/css'>\n    .dialog {\n        position: fixed;\n        top: 0;\n        left: 0;\n        transition: all ease-in 2s;\n    }\n    .dialog-bg {\n        height: 100%;\n        width: 100%;\n        background: rgba(32, 38, 54, .8);\n        animation: fadeIn .2s linear;\n        z-index: 9999;\n    }\n    @keyframes fadeIn {\n        0% {\n            opacity: 0;\n        }\n        100% {\n            opacity: 1;\n        }\n    }\n    @keyframes fadeOut {\n        0% {\n            opacity: 1;\n        }\n        100% {\n            opacity: 0;\n        }\n    }\n    .dialog .to-browser {\n        position: absolute;\n        right: 0;\n        top: 0;\n        margin: 40px 80px;\n        width: 200px;\n    }\n</style>"]}]}