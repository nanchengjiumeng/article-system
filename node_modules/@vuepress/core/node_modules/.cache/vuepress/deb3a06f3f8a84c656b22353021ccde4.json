{"remainingRequest":"/Users/ricardo/Desktop/article-system/node_modules/babel-loader/lib/index.js??ref--3-1!/Users/ricardo/Desktop/article-system/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/ricardo/Desktop/article-system/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ricardo/Desktop/article-system/weekly/.vuepress/components/EnvDetect.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/ricardo/Desktop/article-system/weekly/.vuepress/components/EnvDetect.vue","mtime":1568787218469},{"path":"/Users/ricardo/Desktop/article-system/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ricardo/Desktop/article-system/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/ricardo/Desktop/article-system/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ricardo/Desktop/article-system/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGVudiBmcm9tICdAL3V0aWxzL2Jyb3dzZXJzRW52aXJvbm1lbnQnOwppbXBvcnQgeyBhbmRyb2lkT3BlbkFwcCwgYW5kcm9pZERvd25sb2FkIH0gZnJvbSAnQC9hcGkvYXBwQmFzZS9hbmRyb2lkJzsKaW1wb3J0IHsgaW9zRG93bmxvYWQsIGlvc09wZW5BcHAgfSBmcm9tICdAL2FwaS9hcHBCYXNlL2lvcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnRW52RGV0ZWN0JywKICBwcm9wczogWyJpb3MiLCAiYW5kcm9pZCJdLAogIG1ldGhvZHM6IHsKICAgIGNsaWNrSGFuZGxlcjogZnVuY3Rpb24gY2xpY2tIYW5kbGVyKCkgewogICAgICB2YXIgYW5kciA9IHRoaXMuYW5kcm9pZCwKICAgICAgICAgIGlvcyA9IHRoaXMuaW9zLAogICAgICAgICAgdFZlcnNpb24gPSBlbnYudG93b3Jkcy52ZXJzaW9uOwoKICAgICAgaWYgKGVudi50aGlyZFBhcnR5KSB7CiAgICAgICAgdGhpcy50b0Jyb3dzZXIoKTsKICAgICAgfSBlbHNlIGlmIChlbnYudG93b3Jkcy5pc3Rvd29yZHMpIHsKICAgICAgICBpZiAoZW52Lm9zLmFuZHJvaWQpIHsKICAgICAgICAgIGlmICh0VmVyc2lvbiA+PSBhbmRyLnZlcnNpb24pIHsKICAgICAgICAgICAgYW5kci5jYiAmJiBhbmRyLmNiKCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBhbmRyb2lkRG93bmxvYWQoKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYgKGVudi5vcy5pb3MpIHsKICAgICAgICAgIGlmICh0VmVyc2lvbiA+PSBpb3MudmVyc2lvbikgewogICAgICAgICAgICBpb3MuY2IgJiYgaW9zLmNiKCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpb3NEb3dubG9hZCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAoZW52Lm9zLmFuZHJvaWQpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCdhcHAnKTsKICAgICAgICAgIGFuZHJvaWRPcGVuQXBwKCk7CiAgICAgICAgfSBlbHNlIGlmIChlbnYub3MuaW9zKSB7CiAgICAgICAgICBpb3NPcGVuQXBwKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgLy8gMS50aGlyZCBwYXJ0eQogICAgZGlhbG9nQm94OiBmdW5jdGlvbiBkaWFsb2dCb3gob3B0KSB7CiAgICAgIHZhciBpbWFnZUNsYXNzTmFtZSA9IG9wdC5pbWFnZUNsYXNzTmFtZSwKICAgICAgICAgIGltYWdlID0gb3B0LmltYWdlOwogICAgICB2YXIgYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgIGJveC5jbGFzc05hbWUgPSAnZGlhbG9nIGRpYWxvZy1iZyc7CiAgICAgIGJveC5pbm5lckhUTUwgKz0gJzxpbWcgY2xhc3M9IicgKyBpbWFnZUNsYXNzTmFtZSArICciIHNyYz0iJyArIGltYWdlICsgJyIvPic7CiAgICAgIGJveC5pbm5lckhUTUwgKz0gJyAgICA8L2Rpdj4nOwogICAgICBib3guYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkgewogICAgICAgIG9wdC5jYW5jZWwgJiYgb3B0LmNhbmNlbChjbG9zZSk7CiAgICAgIH0pOwogICAgICBib3guYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgZnVuY3Rpb24gKGUpIHsKICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgIH0pOwogICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGJveCk7CgogICAgICBmdW5jdGlvbiBjbG9zZSgpIHsKICAgICAgICBib3guc3R5bGUuYW5pbWF0aW9uID0gJ2ZhZGVPdXQgLjJzIGxpbmVhcic7CiAgICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChib3gpOwogICAgICAgIH0sIDEwMCk7CiAgICAgIH0KICAgIH0sCiAgICB0b0Jyb3dzZXI6IGZ1bmN0aW9uIHRvQnJvd3NlcihjYikgewogICAgICB0aGlzLmRpYWxvZ0JveCh7CiAgICAgICAgaW1hZ2U6ICdodHRwczovL29mZmljaWFsLXdlYi5vc3MtY24tYmVpamluZy5hbGl5dW5jcy5jb20vdG93b3Jkcy9hdmF0YXJzL3dlY2hhdF9iZy5wbmcnLAogICAgICAgIGltYWdlQ2xhc3NOYW1lOiAndG8tYnJvd3NlcicsCiAgICAgICAgY2FuY2VsOiBmdW5jdGlvbiBjYW5jZWwoY2xvc2UpIHsKICAgICAgICAgIGlmIChjYiAmJiBjYiBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7CiAgICAgICAgICAgIGNiKGNsb3NlKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNsb3NlKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0gLy8gdGhpcmQgcGFydHkgZW5kCgogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7fTsKICB9Cn07"},{"version":3,"sources":["EnvDetect.vue"],"names":[],"mappings":";;;;;;AAOA,OAAA,GAAA,MAAA,6BAAA;AACA,SACA,cADA,EAEA,eAFA,QAGA,uBAHA;AAIA,SACA,WADA,EAEA,UAFA,QAGA,mBAHA;AAIA,eAAA;AACA,EAAA,IAAA,EAAA,WADA;AAEA,EAAA,KAAA,EAAA,CAAA,KAAA,EAAA,SAAA,CAFA;AAGA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,0BACA;AACA,UAAA,IAAA,GAAA,KAAA,OAAA;AAAA,UACA,GAAA,GAAA,KAAA,GADA;AAAA,UAEA,QAAA,GAAA,GAAA,CAAA,OAAA,CAAA,OAFA;;AAGA,UAAA,GAAA,CAAA,UAAA,EAAA;AACA,aAAA,SAAA;AACA,OAFA,MAEA,IAAA,GAAA,CAAA,OAAA,CAAA,SAAA,EAAA;AACA,YAAA,GAAA,CAAA,EAAA,CAAA,OAAA,EAAA;AACA,cAAA,QAAA,IAAA,IAAA,CAAA,OAAA,EAAA;AACA,YAAA,IAAA,CAAA,EAAA,IAAA,IAAA,CAAA,EAAA,EAAA;AACA,WAFA,MAEA;AACA,YAAA,eAAA;AACA;AACA,SANA,MAMA,IAAA,GAAA,CAAA,EAAA,CAAA,GAAA,EAAA;AACA,cAAA,QAAA,IAAA,GAAA,CAAA,OAAA,EAAA;AACA,YAAA,GAAA,CAAA,EAAA,IAAA,GAAA,CAAA,EAAA,EAAA;AACA,WAFA,MAEA;AACA,YAAA,WAAA;AACA;AACA;AACA,OAdA,MAcA;AACA,YAAA,GAAA,CAAA,EAAA,CAAA,OAAA,EAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AAEA,UAAA,cAAA;AACA,SAJA,MAIA,IAAA,GAAA,CAAA,EAAA,CAAA,GAAA,EAAA;AACA,UAAA,UAAA;AACA;AACA;AACA,KA9BA;AA+BA;AACA,IAAA,SAhCA,qBAgCA,GAhCA,EAgCA;AACA,UAAA,cAAA,GAAA,GAAA,CAAA,cAAA;AAAA,UACA,KAAA,GAAA,GAAA,CAAA,KADA;AAEA,UAAA,GAAA,GAAA,QAAA,CAAA,aAAA,CAAA,KAAA,CAAA;AACA,MAAA,GAAA,CAAA,SAAA,GAAA,kBAAA;AACA,MAAA,GAAA,CAAA,SAAA,IAAA,iBAAA,cAAA,GAAA,SAAA,GAAA,KAAA,GAAA,KAAA;AACA,MAAA,GAAA,CAAA,SAAA,IAAA,YAAA;AACA,MAAA,GAAA,CAAA,gBAAA,CAAA,OAAA,EAAA,UAAA,CAAA,EAAA;AACA,QAAA,GAAA,CAAA,MAAA,IAAA,GAAA,CAAA,MAAA,CAAA,KAAA,CAAA;AACA,OAFA;AAGA,MAAA,GAAA,CAAA,gBAAA,CAAA,WAAA,EAAA,UAAA,CAAA,EAAA;AACA,QAAA,CAAA,CAAA,cAAA;AACA,OAFA;AAGA,MAAA,QAAA,CAAA,IAAA,CAAA,WAAA,CAAA,GAAA;;AACA,eAAA,KAAA,GAAA;AACA,QAAA,GAAA,CAAA,KAAA,CAAA,SAAA,GAAA,oBAAA;AACA,QAAA,MAAA,CAAA,UAAA,CAAA,YAAA;AACA,UAAA,QAAA,CAAA,IAAA,CAAA,WAAA,CAAA,GAAA;AACA,SAFA,EAEA,GAFA;AAGA;AACA,KApDA;AAqDA,IAAA,SArDA,qBAqDA,EArDA,EAqDA;AACA,WAAA,SAAA,CAAA;AACA,QAAA,KAAA,EAAA,gFADA;AAEA,QAAA,cAAA,EAAA,YAFA;AAGA,QAAA,MAAA,EAAA,gBAAA,KAAA,EAAA;AACA,cAAA,EAAA,IAAA,EAAA,YAAA,QAAA,EAAA;AACA,YAAA,EAAA,CAAA,KAAA,CAAA;AACA,WAFA,MAEA;AACA,YAAA,KAAA;AACA;AACA;AATA,OAAA;AAWA,KAjEA,CAkEA;;AAlEA,GAHA;AAuEA,EAAA,IAvEA,kBAuEA;AACA,WAAA,EAAA;AACA;AAzEA,CAAA","sourcesContent":["<template>\n    <div @click=\"clickHandler\">\n        <slot name=\"content\"></slot>\n    </div>\n</template>\n\n<script type='text/javascript'>\n    import env from '@/utils/browsersEnvironment'\n    import {\n        androidOpenApp,\n        androidDownload\n    } from '@/api/appBase/android'\n    import {\n        iosDownload,\n        iosOpenApp\n    } from '@/api/appBase/ios'\n    export default {\n        name: 'EnvDetect',\n        props: [\"ios\", \"android\"],\n        methods: {\n            clickHandler() {\n                let andr = this.android,\n                    ios = this.ios,\n                    tVersion = env.towords.version\n                if (env.thirdParty) {\n                    this.toBrowser();\n                } else if (env.towords.istowords) {\n                    if (env.os.android) {\n                        if (tVersion >= andr.version) {\n                            andr.cb && andr.cb()\n                        } else {\n                            androidDownload();\n                        }\n                    } else if (env.os.ios) {\n                        if (tVersion >= ios.version) {\n                            ios.cb && ios.cb()\n                        } else {\n                            iosDownload();\n                        }\n                    }\n                } else {\n                    if (env.os.android) {\n                        console.log('app');\n                        \n                        androidOpenApp()\n                    } else if (env.os.ios) {\n                        iosOpenApp()\n                    }\n                }\n            },\n            // 1.third party\n            dialogBox(opt) {\n                var imageClassName = opt.imageClassName,\n                    image = opt.image\n                var box = document.createElement('div');\n                box.className = 'dialog dialog-bg';\n                box.innerHTML += '<img class=\"' + imageClassName + '\" src=\"' + image + '\"/>'\n                box.innerHTML += '    </div>';\n                box.addEventListener('click', function(e) {\n                    opt.cancel && opt.cancel(close);\n                });\n                box.addEventListener('touchmove', function(e) {\n                    e.preventDefault();\n                });\n                document.body.appendChild(box);\n                function close() {\n                    box.style.animation = 'fadeOut .2s linear';\n                    window.setTimeout(function() {\n                        document.body.removeChild(box);\n                    }, 100)\n                }\n            },\n            toBrowser(cb) {\n                this.dialogBox({\n                    image: 'https://official-web.oss-cn-beijing.aliyuncs.com/towords/avatars/wechat_bg.png',\n                    imageClassName: 'to-browser',\n                    cancel: function(close) {\n                        if (cb && (cb instanceof Function)) {\n                            cb(close);\n                        } else {\n                            close();\n                        }\n                    }\n                })\n            },\n            // third party end\n        },\n        data() {\n            return {}\n        }\n    }\n</script>\n\n<style  type='text/css'>\n    .dialog {\n        position: fixed;\n        top: 0;\n        left: 0;\n        transition: all ease-in 2s;\n    }\n    .dialog-bg {\n        height: 100%;\n        width: 100%;\n        background: rgba(32, 38, 54, .8);\n        animation: fadeIn .2s linear;\n        z-index: 9999;\n    }\n    @keyframes fadeIn {\n        0% {\n            opacity: 0;\n        }\n        100% {\n            opacity: 1;\n        }\n    }\n    @keyframes fadeOut {\n        0% {\n            opacity: 1;\n        }\n        100% {\n            opacity: 0;\n        }\n    }\n    .dialog .to-browser {\n        position: absolute;\n        right: 0;\n        top: 0;\n        margin: 40px 80px;\n        width: 200px;\n    }\n</style>"],"sourceRoot":"weekly/.vuepress/components"}]}