{"remainingRequest":"/Users/ricardo/Desktop/article-system/node_modules/babel-loader/lib/index.js??ref--3-1!/Users/ricardo/Desktop/article-system/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/ricardo/Desktop/article-system/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ricardo/Desktop/article-system/weekly/.vuepress/components/AreaComment.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/ricardo/Desktop/article-system/weekly/.vuepress/components/AreaComment.vue","mtime":1568801353868},{"path":"/Users/ricardo/Desktop/article-system/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ricardo/Desktop/article-system/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/ricardo/Desktop/article-system/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ricardo/Desktop/article-system/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgZ2V0RXhwZXJpZW5jZUxpc3QgfSBmcm9tICIuLi9hcGkvcmVxdWVzdC9leHBlcmllbmNlIjsKaW1wb3J0IEl0ZW1Db21tZW50IGZyb20gIi4vSXRlbUNvbW1lbnQiOwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IFsidG9waWNJbmZvIl0sCiAgY29tcG9uZW50czogewogICAgSXRlbUNvbW1lbnQ6IEl0ZW1Db21tZW50CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbGlzdDogW10sCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBoYXZlbW9yZTogZmFsc2UKICAgIH07CiAgfSwKICAvLyDmjqXmlLbnpZblhYjnu4Tku7Z0aGVtZS1saS52dWXkvKDmnaXnmoRFbnYoKeWunuS+iwogIG1ldGhvZHM6IHsKICAgIC8vIGlkOiDlv4PlvpdpZAogICAgaGFuZGxlSXRlbUNsaWNrZWQ6IGZ1bmN0aW9uIGhhbmRsZUl0ZW1DbGlja2VkKF9yZWYpIHsKICAgICAgdmFyIGlkID0gX3JlZi5pZDsKICAgICAgdGhpcy4kaGFuZGxlRW52Q2hlY2soZnVuY3Rpb24gKGVudikgewogICAgICAgIC8vIOi3s+i9rOWIsOaLk+ivjeeahOW/g+W+l+mhtemdogogICAgICAgIGlmIChlbnYgJiYgZW52Lmp1bXBUb0V4cCBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7CiAgICAgICAgICBlbnYuanVtcFRvRXhwKGlkKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGxvYWRNb3JlOiBmdW5jdGlvbiBsb2FkTW9yZSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CgogICAgICBpZiAodGhpcy5saXN0Lmxlbmd0aCA9PT0gMCkgewogICAgICAgIHRoaXMudG9waWNJbmZvICYmIGdldEV4cGVyaWVuY2VMaXN0KHsKICAgICAgICAgIHRvcGljSWQ6IHRoaXMudG9waWNJbmZvLnRvcGljSWQsCiAgICAgICAgICBleHBJZDogJycKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChfKSB7CiAgICAgICAgICBpZiAoXy5kYXRhLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgICB2YXIgZCA9IF8uZGF0YTsKICAgICAgICAgICAgaWYgKGQuY29kZSA9PT0gMjAwKSBfdGhpcy5saXN0ID0gZC5yZXN1bHQ7CiAgICAgICAgICAgIF90aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzLmhhdmVtb3JlID0gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICBfdGhpcy5oYXZlbW9yZSA9IHRydWU7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy50b3BpY0luZm8gJiYgZ2V0RXhwZXJpZW5jZUxpc3QoewogICAgICAgICAgdG9waWNJZDogdGhpcy50b3BpY0luZm8udG9waWNJZCwKICAgICAgICAgIGV4cElkOiB0aGlzLmxpc3RbdGhpcy5saXN0Lmxlbmd0aCAtIDFdLmlkCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoXykgewogICAgICAgICAgaWYgKF8uZGF0YS5jb2RlID09PSAyMDApIHsKICAgICAgICAgICAgdmFyIGQgPSBfLmRhdGEucmVzdWx0OwogICAgICAgICAgICBfdGhpcy5saXN0ID0gX3RoaXMubGlzdC5jb25jYXQoZCk7CiAgICAgICAgICAgIF90aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzLmhhdmVtb3JlID0gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICBfdGhpcy5oYXZlbW9yZSA9IHRydWU7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICAvLyDmi7/liLB0aGVtZS1saS52dWXkuK3nmoTlrprkuYnnmoRFbnYoKeWunuS+i++8jOWSjOeOr+Wig+ajgOafpeWHveaVsAogICAgLy8gdGhpcy4kZW52ID0gdGhpcy4kcm9vdFsnJGVudiddOwogICAgdGhpcy4kaGFuZGxlRW52Q2hlY2sgPSB0aGlzLiRyb290WyckaGFuZGxlRW52Q2hlY2snXTsKICB9Cn07"},{"version":3,"sources":["/Users/ricardo/Desktop/article-system/weekly/.vuepress/components/AreaComment.vue"],"names":["getExperienceList","ItemComment","props","components","data","list","loading","havemore","methods","handleItemClicked","id","$handleEnvCheck","env","jumpToExp","Function","loadMore","length","topicInfo","topicId","expId","then","_","code","d","result","catch","err","concat","mounted","$root"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,SACIA,iBADJ;AAGA,OAAOC,WAAP;AACA,eAAe;AACXC,EAAAA,KAAK,EAAE,CAAC,WAAD,CADI;AAEXC,EAAAA,UAAU,EAAE;AACRF,IAAAA,WAAW,EAAXA;AADQ,GAFD;AAKXG,EAAAA,IALW,kBAKJ;AACH,WAAO;AACHC,MAAAA,IAAI,EAAE,EADH;AAEHC,MAAAA,OAAO,EAAE,KAFN;AAGHC,MAAAA,QAAQ,EAAE;AAHP,KAAP;AAKH,GAXU;AAYX;AACAC,EAAAA,OAAO,EAAE;AACL;AACAC,IAAAA,iBAFK,mCAIF;AAAA,UADCC,EACD,QADCA,EACD;AACC,WAAKC,eAAL,CAAqB,UAASC,GAAT,EAAc;AAC/B;AACA,YAAIA,GAAG,IAAIA,GAAG,CAACC,SAAJ,YAAyBC,QAApC,EAA8C;AAC1CF,UAAAA,GAAG,CAACC,SAAJ,CAAcH,EAAd;AACH;AACJ,OALD;AAMH,KAXI;AAYLK,IAAAA,QAZK,sBAYM;AAAA;;AACP,WAAKT,OAAL,GAAe,IAAf;;AACA,UAAI,KAAKD,IAAL,CAAUW,MAAV,KAAqB,CAAzB,EAA4B;AACxB,aAAKC,SAAL,IAAkBjB,iBAAiB,CAAC;AAChCkB,UAAAA,OAAO,EAAE,KAAKD,SAAL,CAAeC,OADQ;AAEhCC,UAAAA,KAAK,EAAE;AAFyB,SAAD,CAAjB,CAGfC,IAHe,CAGV,UAAAC,CAAC,EAAI;AACT,cAAIA,CAAC,CAACjB,IAAF,CAAOkB,IAAP,KAAgB,GAApB,EAAyB;AACrB,gBAAIC,CAAC,GAAGF,CAAC,CAACjB,IAAV;AACA,gBAAImB,CAAC,CAACD,IAAF,KAAW,GAAf,EAAoB,KAAI,CAACjB,IAAL,GAAYkB,CAAC,CAACC,MAAd;AACpB,YAAA,KAAI,CAAClB,OAAL,GAAe,KAAf;AACH,WAJD,MAIO;AACH,YAAA,KAAI,CAACC,QAAL,GAAgB,IAAhB;AACH;AACJ,SAXiB,EAWfkB,KAXe,CAWT,UAAAC,GAAG,EAAI;AACZ,UAAA,KAAI,CAACnB,QAAL,GAAgB,IAAhB;AACH,SAbiB,CAAlB;AAcH,OAfD,MAeO;AACH,aAAKU,SAAL,IAAkBjB,iBAAiB,CAAC;AAChCkB,UAAAA,OAAO,EAAE,KAAKD,SAAL,CAAeC,OADQ;AAEhCC,UAAAA,KAAK,EAAE,KAAKd,IAAL,CAAU,KAAKA,IAAL,CAAUW,MAAV,GAAmB,CAA7B,EAAgCN;AAFP,SAAD,CAAjB,CAGfU,IAHe,CAGV,UAAAC,CAAC,EAAI;AACT,cAAIA,CAAC,CAACjB,IAAF,CAAOkB,IAAP,KAAgB,GAApB,EAAyB;AACrB,gBAAIC,CAAC,GAAGF,CAAC,CAACjB,IAAF,CAAOoB,MAAf;AACA,YAAA,KAAI,CAACnB,IAAL,GAAY,KAAI,CAACA,IAAL,CAAUsB,MAAV,CAAiBJ,CAAjB,CAAZ;AACA,YAAA,KAAI,CAACjB,OAAL,GAAe,KAAf;AACH,WAJD,MAIO;AACH,YAAA,KAAI,CAACC,QAAL,GAAgB,IAAhB;AACH;AACJ,SAXiB,EAWfkB,KAXe,CAWT,UAAAC,GAAG,EAAI;AACZ,UAAA,KAAI,CAACnB,QAAL,GAAgB,IAAhB;AACH,SAbiB,CAAlB;AAcH;AACJ;AA7CI,GAbE;AA4DXqB,EAAAA,OA5DW,qBA4DD;AACN;AACA;AACA,SAAKjB,eAAL,GAAuB,KAAKkB,KAAL,CAAW,iBAAX,CAAvB;AACH;AAhEU,CAAf","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {\n    getExperienceList\n} from '../api/request/experience'\nimport ItemComment from './ItemComment'\nexport default {\n    props: [\"topicInfo\"],\n    components: {\n        ItemComment\n    },\n    data() {\n        return {\n            list: [],\n            loading: false,\n            havemore: false\n        }\n    },\n    // 接收祖先组件theme-li.vue传来的Env()实例\n    methods: {\n        // id: 心得id\n        handleItemClicked({\n            id\n        }) {\n            this.$handleEnvCheck(function(env) {\n                // 跳转到拓词的心得页面\n                if (env && env.jumpToExp instanceof Function) {\n                    env.jumpToExp(id);\n                }\n            })\n        },\n        loadMore() {\n            this.loading = true;\n            if (this.list.length === 0) {\n                this.topicInfo && getExperienceList({\n                    topicId: this.topicInfo.topicId,\n                    expId: ''\n                }).then(_ => {\n                    if (_.data.code === 200) {\n                        let d = _.data;\n                        if (d.code === 200) this.list = d.result;\n                        this.loading = false;\n                    } else {\n                        this.havemore = true;\n                    }\n                }).catch(err => {\n                    this.havemore = true;\n                })\n            } else {\n                this.topicInfo && getExperienceList({\n                    topicId: this.topicInfo.topicId,\n                    expId: this.list[this.list.length - 1].id\n                }).then(_ => {\n                    if (_.data.code === 200) {\n                        var d = _.data.result;\n                        this.list = this.list.concat(d);\n                        this.loading = false;\n                    } else {\n                        this.havemore = true;\n                    }\n                }).catch(err => {\n                    this.havemore = true;\n                })\n            }\n        }\n    },\n    mounted() {\n        // 拿到theme-li.vue中的定义的Env()实例，和环境检查函数\n        // this.$env = this.$root['$env'];\n        this.$handleEnvCheck = this.$root['$handleEnvCheck'];\n    }\n}\n"]}]}